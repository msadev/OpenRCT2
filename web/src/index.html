<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenRCT2 Web</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="loading-screen">
        <div class="loading-content">
            <h1>OpenRCT2 Web</h1>
            <p id="status-message">Initializing...</p>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <p id="progress-detail" class="progress-detail"></p>
        </div>
    </div>

    <div id="setup-screen" style="display: none;">
        <div class="setup-content">
            <h1>OpenRCT2 Web</h1>
            <p id="setup-message">To play, you need to provide your RCT2 game files.</p>

            <div id="file-options-section">
                <div class="file-upload">
                    <p class="file-upload-text">Upload your RCT2 ZIP file:</p>
                    <label for="rct2-files" class="file-upload-button">
                        Choose File
                    </label>
                    <input type="file" id="rct2-files" accept=".zip" class="file-input-hidden">
                    <p id="file-name-display" class="file-name-display">No file selected</p>
                </div>
            </div>

            <div id="upload-progress-container" class="progress-section" style="display: none;">
                <p id="upload-progress-text">Processing...</p>
                <div class="progress-container">
                    <div class="progress-bar" id="upload-progress-bar"></div>
                </div>
            </div>

            <div id="upload-status"></div>
            <button id="start-game">Start Game</button>
        </div>
    </div>

    <canvas id="canvas" style="display: none;"></canvas>

    <footer class="footer" id="legal-footer">
        <div class="footer-content">
            <p class="footer-credits">
                OpenRCT2 is free software licensed under
                <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener">GPL-3.0-or-later</a>
            </p>
            <p class="footer-links">
                <a href="#" id="legal-link">Legal Notice</a>
                <span class="separator">|</span>
                <a href="https://github.com/msadev/OpenRCT2" target="_blank" rel="noopener">Web Port Source</a>
                <span class="separator">|</span>
                <a href="https://github.com/OpenRCT2/OpenRCT2" target="_blank" rel="noopener">Upstream</a>
            </p>
        </div>
    </footer>

    <div id="legal-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-title">
                <span>Legal Notice</span>
                <button class="modal-close" id="legal-close">&times;</button>
            </div>
            <div class="modal-body">
                <h3>OpenRCT2 Web</h3>
                <p>This is an unofficial, community-made web port of OpenRCT2.</p>

                <h4>License</h4>
                <p>OpenRCT2 is free software; you can redistribute it and/or modify it under the terms of the <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener">GNU General Public License version 3 (or later)</a>.</p>

                <h4>Original Game</h4>
                <p>RollerCoaster Tycoon 2 and related trademarks are the property of their respective owners. You must own a legitimate copy of the original game and provide your own data files.</p>

                <h4>Assets</h4>
                <p>This web port does not include any original RollerCoaster Tycoon 2 assets.</p>

                <h4>Privacy (RGPD/GDPR)</h4>
                <p>No ads, analytics, or third-party trackers are used. Game files, saves, and settings are stored locally in your browser (IndexedDB).</p>
                <p>Network requests are limited to downloading the web build from this server, optionally connecting to a WebSocket proxy for multiplayer, and fetching release notes from GitHub. Standard server logs may include IP address and user agent for security and troubleshooting.</p>
                <p>Data controller: the operator of this website. If you self-host, you are the data controller and decide log retention.</p>
                <p>Legal basis: legitimate interest for service operation and security; consent for any optional features you enable.</p>
                <p>Your rights: access, rectification, deletion, restriction, and objection. Contact the website operator or open an issue on the web port repository.</p>
                <p>Privacy policy: <a href="https://github.com/OpenRCT2/OpenRCT2/blob/develop/PRIVACY.md" target="_blank" rel="noopener">OpenRCT2 Privacy Policy</a></p>

                <h4>Disclaimer</h4>
                <p>This software is provided "as is", without warranty of any kind. OpenRCT2 is not affiliated with, endorsed by, or sponsored by any rights holders.</p>

                <h4>Source Code</h4>
                <p>The source code for this web port is available at <a href="https://github.com/msadev/OpenRCT2" target="_blank" rel="noopener">github.com/msadev/OpenRCT2</a>.</p>
                <p>The upstream OpenRCT2 source code is available at <a href="https://github.com/OpenRCT2/OpenRCT2" target="_blank" rel="noopener">github.com/OpenRCT2/OpenRCT2</a>.</p>

                <div class="modal-actions">
                    <button class="modal-button" id="legal-ok">OK</button>
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="./main.js"></script>
</body>
</html>
